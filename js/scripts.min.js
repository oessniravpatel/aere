/*
 * Scripts File
 * Author: Chris Carlin
*/function updateViewportDimensions(){var e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0],i=e.innerWidth||n.clientWidth||r.clientWidth,s=e.innerHeight||n.clientHeight||r.clientHeight;return{width:i,height:s}}function loadGravatars(){viewport=updateViewportDimensions();viewport.width>=768&&jQuery(".comment img[data-gravatar]").each(function(){jQuery(this).attr("src",jQuery(this).attr("data-gravatar"))})}function gup(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),r=n.exec(window.location.href);return r==null?"direct":r[1]}wow=new WOW({mobile:!1});wow.init();var viewport=updateViewportDimensions(),waitForFinalEvent=function(){var e={};return function(t,n,r){r||(r="Don't call this twice without a uniqueId");e[r]&&clearTimeout(e[r]);e[r]=setTimeout(t,n)}}(),timeToWaitForLast=100;jQuery(document).ready(function(e){function n(){e("#container").addClass("active-menu");_menuHeight=e("#menu-main").outerHeight();if(_menuHeight>e(window).height()){e("#container").css("height",_menuHeight);e("#mega-menu").css("height",_menuHeight+76)}else{e("#container").css("height",e(window).height());e("#mega-menu").css("height",e(window).height()+76)}}function r(t,n,r){e("html,body").animate({scrollTop:e("#"+t).offset().top-n},r);e("html,body").bind("scroll mousedown DOMMouseScroll mousewheel keyup",function(t){(t.which>0||t.type==="mousedown"||t.type==="mousewheel")&&e("html,body").stop().unbind("scroll mousedown DOMMouseScroll mousewheel keyup")})}function s(){var t=e("#mega-menu .sub-menu li a");t.each(function(){var t=e(this).parents(".sub-menu").parent().find("a").attr("href");_thisHref=e(this).attr("href");e(this).attr("href",t+_thisHref)});gup("disp")!="direct"&&r(gup("disp"),76,500)}function o(){}function u(){viewport=updateViewportDimensions();if(viewport.width>=1030&&e("#mega-menu li.current-menu-item .sub-menu").length){e(".header").hasClass("dark")?theme="dark":theme="";_currentSubMenuHTML=e("#mega-menu li.current-menu-item .sub-menu .wrap").html();e("#mega-menu").before('<div id="mega-menu-lite" class="'+theme+'"><ul class="nav cf">'+_currentSubMenuHTML+"</ul></div>");e("#mega-menu-lite a").each(function(){var t=e(this),n=t.attr("href"),i=n.substring(n.indexOf("=")+1);t.click(function(){r(i,76,500)});e(this).attr("href","javascript:void(0);")})}}function a(){e(window).scrollTop()<=1?e(".header").removeClass("scrolled"):e(".header").addClass("scrolled")}function f(){if(e(window).scrollTop()<=300){viewport=updateViewportDimensions();if(viewport.width>=1030){e("#mega-menu").removeClass("faded");e("#mega-menu-lite").addClass("faded");e("#mega-menu-lite").fadeOut(100);e(".apply-button").removeClass("shift");e(".mobile-nav").fadeOut()}}else{viewport=updateViewportDimensions();if(viewport.width>=1030){e("#mega-menu").addClass("faded");e("#mega-menu-lite").removeClass("faded");e("#mega-menu-lite").fadeIn(100);e(".apply-button").addClass("shift");e(".mobile-nav").fadeIn()}}}function l(){e("#mega-menu .sub-menu").each(function(){e(this).find("li").wrapAll('<div class="wrap"></div>')});e("#mega-menu .sub-menu li a").each(function(){var t=e(this).attr("title"),n=e(this).text();if(typeof t!=typeof undefined&&t!==!1){e(this).prepend('<div class="icon icon-'+t+' push-color"></div>');e(this).attr("title",n)}})}function c(){e("#menu-footer .menu-item-has-children").addClass("t-1of5 d-1of5")}function h(){var t=e("#semester-two").attr("data-opacity-check"),n=Math.round(t/2);for(i=0;i<n;i++){e("#semester-one .opacity-"+i).css("opacity",(i+3)/10);e("#semester-two .opacity-"+i).css("opacity",(i+7)/10)}}function p(){viewport=updateViewportDimensions();viewport.width<=767?e(".skew-bar").css("border-width","20px 0px 0px "+viewport.width+"px"):viewport.width<=1029?e(".skew-bar").css("border-width","50px 0px 50px "+viewport.width+"px"):e(".skew-bar").css("border-width","80px 0px 265px "+viewport.width+"px");e(".parallax").css("height",e(".page-slider").height()+15);e(".page-slider.home-page-slider").css("min-height",e(window).height()+15);e(".abs-center").css("height",e(window).height()-100);e(".page-slider").delay(1e3).css("opacity","1")}function d(t){var n=e(window).scrollTop(),r=e("#"+t).offset(),i=e("#"+t).height(),s=r.top-150;if(n>s&&n<s+i)if(n<300)e("#mega-menu-lite a").removeClass("active");else{e("#mega-menu-lite a").removeClass("active");e("[data-active-item='"+t+"']").each(function(){e(this).addClass("active")})}}function v(){viewport=updateViewportDimensions();if(!(viewport.width<=1024)){var t=e(window).scrollTop();e(".parallax").css("top",0-t*.4+"px")}}e(".business .button, .consultant .button").addClass("btn-green");e(".all-others .button, .manager .button").addClass("btn-red");e(".accounting .button, .admin .button").addClass("btn-purple");e(".project-management .button, .trainer .button").addClass("btn-blue");e(".management .button").addClass("btn-yellow");e(".single-course .section-one strong, .single-team .section-one strong").addClass("push-color");e(".single-course .about-the-course h5, .single-team .about-the-course h5").addClass("push-color");e("#mobile-nav-button").click(function(){e("#mega-menu").fadeIn(100);e("#mega-menu-lite").fadeOut(100);e("#mega-menu-lite").addClass("faded");e(".mobile-nav").fadeOut(500);e("#mega-menu").removeClass("faded");e(".apply-button").removeClass("shift");viewport=updateViewportDimensions();if(viewport.width<=1030){n();e(window).scrollTop(0)}});e(".close-menu").click(function(){e("#mega-menu").fadeOut(100);e(".mobile-nav").fadeIn(500);e("#container").removeClass("active-menu")});e(".button").click(function(){var t=e(this).attr("data-anchor");typeof t!=typeof undefined&&t!==!1&&r(t,76,500)});e(".social-media-buttons li").each(function(){_this=e(this);_anchor=_this.find("a");_anchorText=_anchor.text();_anchor.text("");_anchor.append('<i class="fa fa-'+_anchorText+'"></i>')});var t=e(".footer .widget").html();e(".footer .widget").hide();e(".social-media-buttons ul").append('<div class="cf"></div><div class="custom-widget">'+t+"</div>");e(function(){var t=!1;e("#alm-filter-nav li a").on("click",function(n){n.preventDefault();var r=e(this);if(!r.hasClass("active")&&!t){t=!0;r.parent().addClass("active").siblings("li").removeClass("active");var i=r.data(),s="fade",o="300";e.fn.almFilter(s,o,i)}});e.fn.almFilterComplete=function(){t=!1}});e("html,body").bind("scroll DOMMouseScroll mousewheel",function(e){a();f()});e(".popup-youtube, .popup-vimeo").magnificPopup({type:"iframe",removalDelay:160,preloader:!0,fixedContentPos:!1});p();e(window).load(function(){a();v();f();c();h();s();l();u();p();e(".open-popup-link").magnificPopup({type:"inline",midClick:!0});e(".arrow-down").click(function(){r("home-to-scroll",90,500)});setTimeout(function(){submenuitems=new Array;e("#mega-menu-lite a").each(function(){var t=e(this),n=t.attr("title");n=n.toLowerCase();n=n.replace(/[^a-zA-Z0-9 ]+/g,"");n=n.replace(/\s+/g,"-");t.attr("data-active-item",n);t.click(function(){e("#mega-menu-lite a").removeClass("active");t.addClass("active")});submenuitems.push(n)});e(".page-slider.home-page-slider .parallax").css("opacity","1")},100)});e(window).resize(function(){viewport=updateViewportDimensions();p()});e(window).scroll(function(){v();a();f();if(typeof submenuitems!=typeof undefined&&submenuitems!==!1)for(var e=0;e<submenuitems.length;e++)d(submenuitems[e])});e.browser.msie&&e("html").addClass("ie")});